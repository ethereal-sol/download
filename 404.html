<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>404 — данной страницы не существует</title>
  <style>
    :root{
      --bg0:#0f1115;
      --bg1:#141720;
      --bg2:#1b1f2a;
      --fg:#e6e7ea;
      --muted:#a6acb6;
      --acc1:#9aa4b2;
      --acc2:#5a6472;
      --glow:#cbd5e1;
      --warn:#cbd0d8;
    }
    
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--fg);
      font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 70% 20%, #1d2230 0%, #141824 60%, #0f1115 100%) fixed;
      overflow:hidden;
    }

    .veil{
      position:fixed; inset:-20vmax; pointer-events:none; z-index:-2;
      background:
        linear-gradient(120deg, rgba(255,255,255,.05), rgba(255,255,255,0) 40%),
        radial-gradient(120vmax 80vmax at 10% -10%, rgba(255,255,255,.06), transparent 60%),
        radial-gradient(120vmax 80vmax at 110% 110%, rgba(255,255,255,.04), transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1), var(--bg0));
      filter: saturate(110%) contrast(105%);
      animation: drift 18s ease-in-out infinite alternate;
    }
    @keyframes drift{ from{ transform:translate3d(-2%, -1%, 0) scale(1.02)} to{ transform:translate3d(2%, 1%, 0) scale(1.06)} }

    .grain{ position:fixed; inset:0; pointer-events:none; z-index:10; mix-blend-mode:overlay; }
    .grain::before{
      content:""; position:absolute; inset:-20%;
      background:transparent; filter:url(#grainy);
      opacity:.08; animation: grain-move 1.5s steps(4) infinite;
    }
    @keyframes grain-move{ 0%{transform:translate3d(0,0,0)} 100%{transform:translate3d(-10%, -10%, 0)} }

    .wrap{
      position:relative; z-index:2; height:100%; width:100%;
      display:grid; place-items:center; text-align:center; padding:6vmin;
    }

    .card{
      position:relative; max-width:min(800px, 90vw);
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005));
      border:1px solid rgba(255,255,255,.08);
      box-shadow: 0 10px 40px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.08);
      border-radius:28px; padding:4rem 3rem; backdrop-filter: blur(8px) saturate(110%);
    }

    .tag{display:inline-block; letter-spacing:.2em; text-transform:uppercase; font-size:.75rem; color:var(--muted); opacity:.9}

    .code404{
      position:relative; font-weight:800; line-height:1; letter-spacing:.02em;
      font-size: clamp(72px, 16vw, 220px);
      margin: .2em 0 .1em;
      color: transparent;
      background: linear-gradient(190deg, #e5e7eb, #c7ccd6 40%, #9aa4b2 60%, #737a86);
      -webkit-background-clip:text; background-clip:text;
      text-shadow: 0 10px 40px rgba(203,213,225,.18);
      filter: drop-shadow(0 6px 20px rgba(0,0,0,.35));
    }

    .code404::before, .code404::after{
      content:attr(data-text); position:absolute; inset:0; color:#cbd5e1; mix-blend-mode:screen;
      text-shadow: none;
    }
    .code404::before{ clip-path:polygon(0 0,100% 0,100% 46%,0 56%); transform:translate3d(-1px,0,0);
      animation: glitchTop 2.2s infinite linear alternate-reverse; opacity:.45 }
    .code404::after{ clip-path:polygon(0 60%,100% 50%,100% 100%,0 100%); transform:translate3d(1px,0,0);
      animation: glitchBot 2s infinite linear alternate-reverse; opacity:.35 }

    @keyframes glitchTop{ 0%{transform:translateX(-2px)} 20%{transform:translateX(2px)} 40%{transform:translateX(-1px)} 60%{transform:translateX(1px)} 80%{transform:translateX(-3px)} 100%{transform:translateX(2px)} }
    @keyframes glitchBot{ 0%{transform:translateX(2px)} 25%{transform:translateX(-2px)} 50%{transform:translateX(3px)} 75%{transform:translateX(-1px)} 100%{transform:translateX(2px)} }

    .lead{
      color:var(--muted); font-size: clamp(16px, 2.3vw, 22px);
      max-width:60ch; margin:0 auto 2rem;
    }

    .actions{ display:flex; gap:.8rem; justify-content:center; flex-wrap:wrap }
    .btn{
      --bcol: rgba(255,255,255,.08);
      color:var(--fg); text-decoration:none; font-weight:600; letter-spacing:.02em;
      border-radius:14px; padding:.9rem 1.2rem; border:1px solid var(--bcol);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 6px 20px rgba(0,0,0,.35);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .btn:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.18); box-shadow: inset 0 1px 0 rgba(255,255,255,.16), 0 14px 36px rgba(0,0,0,.45) }

    .hint{ margin-top:1.2rem; color:#8a92a0; font-size:.8rem }

    canvas#fx{ position:fixed; inset:0; width:100vw; height:100vh; z-index:-1; }

    @media (prefers-reduced-motion: reduce){
      .veil, .grain::before, .code404::before, .code404::after { animation: none!important }
      canvas#fx{ display:none }
    }
  </style>
</head>
<body>

  <div class="veil" aria-hidden="true"></div>
  <canvas id="fx" aria-hidden="true"></canvas>
  <div class="grain" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card" role="group" aria-labelledby="h404">
      <span class="tag">Ошибка</span>
      <h1 id="h404" class="code404" data-text="404">404</h1>
      <p class="lead">данной страницы не существует, может быть ты ошибся?</p>
      <div class="actions">
        <a class="btn" href="/">На главную</a>
        <a class="btn" href="javascript:history.back()">Вернуться назад</a>
      </div>
      <p class="hint">Кликни по фону — появятся искры. Двигай мышью — летят частицы.</p>
    </section>
  </main>

  <svg width="0" height="0" style="position:absolute">
    <filter id="grainy">
      <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" seed="11">
        <animate attributeName="seed" from="11" to="200" dur="5s" repeatCount="indefinite" />
      </feTurbulence>
      <feColorMatrix type="saturate" values="0"></feColorMatrix>
      <feComponentTransfer>
        <feFuncA type="table" tableValues="0 0.6"/>
      </feComponentTransfer>
    </filter>
  </svg>

  <script>

  (()=>{
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d');
    const DPR = Math.min(window.devicePixelRatio || 1, 2);
    let W = 0, H = 0;

    const state = {
      particles: [],
      lastSpawn: 0,
      hue: 210,
      paused: false
    };

    const resize = () => {
      W = canvas.width = Math.floor(innerWidth * DPR);
      H = canvas.height = Math.floor(innerHeight * DPR);
      canvas.style.width = '100vw';
      canvas.style.height = '100vh';
    };
    addEventListener('resize', resize, {passive:true});
    resize();

    class P {
      constructor(x, y, vx, vy, life, size, tint){
        this.x = x; this.y = y; this.vx = vx; this.vy = vy;
        this.life = life; this.max = life; this.size = size; this.tint = tint;
      }
      step(dt){
        this.life -= dt; if(this.life <= 0) return false;
        this.vy += 10 * dt;
        this.x += this.vx * dt; this.y += this.vy * dt;
        return !(this.y > H + 20 || this.x < -20 || this.x > W + 20);
      }
      draw(c){
        const t = this.life / this.max;
        c.globalCompositeOperation = 'lighter';
        const alpha = Math.max(0, Math.min(1, t)) * 0.9;
        c.fillStyle = `hsla(${this.tint}, 12%, ${40 + 35*(1-t)}%, ${alpha})`;
        c.beginPath(); c.arc(this.x, this.y, this.size * (0.6 + 0.4*t), 0, Math.PI*2); c.fill();
      }
    }

    function spawnTrail(x, y, count=4){
      for(let i=0;i<count;i++){
        const a = Math.random()*Math.PI*2;
        const s = 30 + Math.random()*60;
        state.particles.push(new P(x, y, Math.cos(a)*s, Math.sin(a)*s, 0.8+Math.random()*0.6, 1+Math.random()*2, state.hue));
      }
    }

    function burst(x, y, strength=1){
      const N = Math.floor(40*strength);
      for(let i=0;i<N;i++){
        const a = (i/N)*Math.PI*2 + Math.random()*0.2;
        const s = 80 + Math.random()*180*strength;
        const tint = 210 + Math.random()*6 - 3;
        state.particles.push(new P(x, y, Math.cos(a)*s, Math.sin(a)*s, 0.9+Math.random()*1.2, 1.2+Math.random()*2.8, tint));
      }
    }

    let mx = W/2, my = H/2, lastMove = performance.now();
    addEventListener('mousemove', (e)=>{
      const rect = canvas.getBoundingClientRect();
      mx = (e.clientX - rect.left) * DPR; my = (e.clientY - rect.top) * DPR; lastMove = performance.now();
      spawnTrail(mx, my, 3);
    }, {passive:true});
    addEventListener('click', (e)=>{
      const rect = canvas.getBoundingClientRect();
      burst((e.clientX-rect.left)*DPR, (e.clientY-rect.top)*DPR, 1.2);
    });

    function ambient(dt){
      if(performance.now() - lastMove > 800){
        if(Math.random() < 0.08){
          const x = Math.random()*W, y = Math.random()*H*0.5 + H*0.1;
          spawnTrail(x, y, 2);
        }
      }
    }

    let prev = performance.now();
    function tick(now){
      const dt = Math.min(0.033, (now - prev)/1000); prev = now;
      if(state.paused){ requestAnimationFrame(tick); return; }

      ctx.clearRect(0,0,W,H);
      ambient(dt);

      for(let i=state.particles.length-1;i>=0;i--){
        const p = state.particles[i];
        if(!p.step(dt)) { state.particles.splice(i,1); continue; }
        p.draw(ctx);
      }
      const g = ctx.createRadialGradient(W*0.5, H*0.4, Math.min(W,H)*0.05, W*0.5, H*0.5, Math.max(W,H)*0.7);
      g.addColorStop(0, 'rgba(0,0,0,0)');
      g.addColorStop(1, 'rgba(0,0,0,0.25)');
      ctx.fillStyle = g; ctx.fillRect(0,0,W,H);

      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    document.addEventListener('visibilitychange', ()=>{ state.paused = document.hidden; });
  })();
  </script>
</body>
</html>
